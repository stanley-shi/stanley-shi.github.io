---
layout: post
title: Camel REST support – For my info
date: '2010-06-20T11:43:00.001+08:00'
author: Stanley Shi
tags: 
modified_time: '2010-06-20T11:43:34.506+08:00'
blogger_id: tag:blogger.com,1999:blog-4195205503550406237.post-8044654292170388485
blogger_orig_url: http://eng-architect.blogspot.com/2010/06/camel-rest-support-for-my-info.html
---

<p>Please refer to this page for the original resources: <a title="http://camel.apache.org/cxfrs.html" href="http://camel.apache.org/cxfrs.html">http://camel.apache.org/cxfrs.html</a></p>  <p>In our current project, we need to provide RESTful interface to the outside world from some web application, which will be using <a href="http://camel.apache.org/index.html">Apache Camel</a> to do the internal business routing. So we are considering using Camel to serve the RESTful interface.</p>  <p>After some investigation, I found the CXFRS component. It provides what I need. But from the above resource page, there’s not much documentation about the internal processing logic of the component. So I wrote some test. Here’s some conclusion:</p>  <ol>   <li>At the declaration of the cxf:rsServer, the “serviceClass” property should be set to some concrete class, you cannot put some interface here. But in fact, during the process of the Camel, the methods in that concrete class will not be called, this class is only used by CXF to mapping REST request URI to the resource class method according to JSR311 specification. After CXF receiving the REST request, it will be delivered to the Camel Route(skipping the resource method). So in the “How To Consume the REST request in Camel” example in the original resource page, the method in the resource class (“CustomerService”) will not be called. </li>    <li>Be careful of the method definition in the resource class. The parameter in the method will be delivered by the Camel Route to the next endpoint. For example, if you define the method as below, in the next endpoint, the body of the Exchange will be a String message.      <table border="0" cellspacing="0" cellpadding="2" width="400"><tbody>         <tr>           <td valign="top" width="400">             <p>@POST                <br />&#160;&#160;&#160; @Produces(&quot;application/xml&quot;)                 <br />&#160;&#160;&#160; public Response post(String message){                 <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160; ……</p>&#160;&#160;&#160;&#160;&#160; }</td>         </tr>       </tbody></table>   </li>    <li>The return value of the last endpoint will be returned to the REST client, so don’t forget to return some value. </li> </ol>  <p>In conclusion, using camel to do REST if very easy, but you should pay more attention to the things that have not been documented.</p>  <p>This is the <a href="http://docs.google.com/leaf?id=0B4i0QBRXgRPHNGExOTRmYTgtMTRhNi00MmIwLWJlYTctYzljMDEyZjU5ODI5&amp;hl=en">source code</a> for my example.</p>  